{"version":3,"sources":["index.js"],"names":["require","h","prettierBytes","truncateString","renderAcquirerIcon","acquirer","props","i18n","name","icon","renderFileName","maxNameLength","containerWidth","file","meta","renderFileSize","size","ReSelectButton","isGhost","toggleAddFilesPanel","ErrorButton","onClick","error","module","exports","FileInfo","source","alert"],"mappings":"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","sourcesContent":["const { h } = require('preact')\nconst prettierBytes = require('@transloadit/prettier-bytes')\nconst truncateString = require('@uppy/utils/lib/truncateString')\n\nconst renderAcquirerIcon = (acquirer, props) => (\n  <span title={props.i18n('fileSource', { name: acquirer.name })}>\n    {acquirer.icon()}\n  </span>\n)\n\nconst renderFileName = (props) => {\n  // Take up at most 2 lines on any screen\n  let maxNameLength\n  // For very small mobile screens\n  if (props.containerWidth <= 352) {\n    maxNameLength = 35\n  // For regular mobile screens\n  } else if (props.containerWidth <= 576) {\n    maxNameLength = 60\n  // For desktops\n  } else {\n    maxNameLength = 30\n  }\n\n  return (\n    <div className=\"uppy-Dashboard-Item-name\" title={props.file.meta.name}>\n      {truncateString(props.file.meta.name, maxNameLength)}\n    </div>\n  )\n}\n\nconst renderFileSize = (props) => (\n  props.file.size\n    && (\n    <div className=\"uppy-Dashboard-Item-statusSize\">\n      {prettierBytes(props.file.size)}\n    </div>\n    )\n)\n\nconst ReSelectButton = (props) => (\n  props.file.isGhost\n    && (\n      <span>\n        {' \\u2022 '}\n        <button\n          className=\"uppy-u-reset uppy-c-btn uppy-Dashboard-Item-reSelect\"\n          type=\"button\"\n          onClick={props.toggleAddFilesPanel}\n        >\n          {props.i18n('reSelect')}\n        </button>\n      </span>\n    )\n)\n\nconst ErrorButton = ({ file, onClick }) => {\n  if (file.error) {\n    return (\n      <span\n        className=\"uppy-Dashboard-Item-errorDetails\"\n        aria-label={file.error}\n        data-microtip-position=\"bottom\"\n        data-microtip-size=\"medium\"\n        role=\"tooltip\"\n        onClick={onClick}\n      >\n        ?\n      </span>\n    )\n  }\n  return null\n}\n\nmodule.exports = function FileInfo (props) {\n  return (\n    <div className=\"uppy-Dashboard-Item-fileInfo\" data-uppy-file-source={props.file.source}>\n      {renderFileName(props)}\n      <div className=\"uppy-Dashboard-Item-status\">\n        {renderFileSize(props)}\n        {ReSelectButton(props)}\n        <ErrorButton\n          file={props.file}\n          onClick={() => {\n            alert(props.file.error)\n          }}\n        />\n      </div>\n    </div>\n  )\n}\n"]}