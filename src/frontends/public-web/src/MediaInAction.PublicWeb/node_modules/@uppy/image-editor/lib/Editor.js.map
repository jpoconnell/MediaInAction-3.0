{"version":3,"sources":["Editor.js"],"names":["Cropper","require","h","Component","module","exports","props","granularRotateOnChange","ev","state","rotationAngle","rotationDelta","pendingRotationDelta","Number","target","value","cancelAnimationFrame","granularRotateOnInputNextFrame","pendingRotationAngle","requestAnimationFrame","cropper","rotateTo","componentDidMount","opts","storeCropperInstance","imgElement","cropperOptions","actions","granularRotate","addEventListener","detail","rotate","setState","componentWillUnmount","destroy","renderRevert","i18n","reset","setAspectRatio","renderRotate","renderGranularRotate","renderFlip","scaleX","getData","renderZoomIn","zoom","renderZoomOut","renderCropSquare","renderCropWidescreen","renderCropWidescreenVertical","render","currentImage","imageURL","URL","createObjectURL","data","name","ref","revert","flip","zoomIn","zoomOut","cropSquare","cropWidescreen","cropWidescreenVertical"],"mappings":"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","sourcesContent":["const Cropper = require('cropperjs')\nconst { h, Component } = require('preact')\n\nmodule.exports = class Editor extends Component {\n  constructor (props) {\n    super(props)\n    this.state = { rotationAngle: 0, rotationDelta: 0 }\n  }\n\n  componentDidMount () {\n    const { opts, storeCropperInstance } = this.props\n    this.cropper = new Cropper(\n      this.imgElement,\n      opts.cropperOptions\n    )\n    storeCropperInstance(this.cropper)\n\n    if (opts.actions.granularRotate) {\n      this.imgElement.addEventListener('crop', (ev) => {\n        const rotationAngle = ev.detail.rotate\n        this.setState({\n          rotationAngle,\n          // 405 == 360 + 45\n          rotationDelta: ((rotationAngle + 405) % 90) - 45,\n        })\n      })\n    }\n  }\n\n  componentWillUnmount () {\n    this.cropper.destroy()\n  }\n\n  renderRevert () {\n    return (\n      <button\n        type=\"button\"\n        className=\"uppy-u-reset uppy-c-btn\"\n        aria-label={this.props.i18n('revert')}\n        data-microtip-position=\"top\"\n        role=\"tooltip\"\n        onClick={() => {\n          this.cropper.reset()\n          this.cropper.setAspectRatio(0)\n        }}\n      >\n        <svg aria-hidden=\"true\" className=\"uppy-c-icon\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\">\n          <path d=\"M0 0h24v24H0z\" fill=\"none\" />\n          <path d=\"M13 3c-4.97 0-9 4.03-9 9H1l3.89 3.89.07.14L9 12H6c0-3.87 3.13-7 7-7s7 3.13 7 7-3.13 7-7 7c-1.93 0-3.68-.79-4.94-2.06l-1.42 1.42C8.27 19.99 10.51 21 13 21c4.97 0 9-4.03 9-9s-4.03-9-9-9zm-1 5v5l4.28 2.54.72-1.21-3.5-2.08V8H12z\" />\n        </svg>\n      </button>\n    )\n  }\n\n  renderRotate () {\n    return (\n      <button\n        type=\"button\"\n        className=\"uppy-u-reset uppy-c-btn\"\n        onClick={() => this.cropper.rotate(-90)}\n        aria-label={this.props.i18n('rotate')}\n        data-microtip-position=\"top\"\n        role=\"tooltip\"\n      >\n        <svg aria-hidden=\"true\" className=\"uppy-c-icon\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\">\n          <path d=\"M0 0h24v24H0V0zm0 0h24v24H0V0z\" fill=\"none\" />\n          <path d=\"M14 10a2 2 0 012 2v7a2 2 0 01-2 2H6a2 2 0 01-2-2v-7a2 2 0 012-2h8zm0 1.75H6a.25.25 0 00-.243.193L5.75 12v7a.25.25 0 00.193.243L6 19.25h8a.25.25 0 00.243-.193L14.25 19v-7a.25.25 0 00-.193-.243L14 11.75zM12 .76V4c2.3 0 4.61.88 6.36 2.64a8.95 8.95 0 012.634 6.025L21 13a1 1 0 01-1.993.117L19 13h-.003a6.979 6.979 0 00-2.047-4.95 6.97 6.97 0 00-4.652-2.044L12 6v3.24L7.76 5 12 .76z\" />\n        </svg>\n      </button>\n    )\n  }\n\n  granularRotateOnChange = (ev) => {\n    const { rotationAngle, rotationDelta } = this.state\n    const pendingRotationDelta = Number(ev.target.value) - rotationDelta\n    cancelAnimationFrame(this.granularRotateOnInputNextFrame)\n    if (pendingRotationDelta !== 0) {\n      const pendingRotationAngle = rotationAngle + pendingRotationDelta\n      this.granularRotateOnInputNextFrame = requestAnimationFrame(() => {\n        this.cropper.rotateTo(pendingRotationAngle)\n      })\n    }\n  }\n\n  renderGranularRotate () {\n    return (\n      <label\n        data-microtip-position=\"top\"\n        role=\"tooltip\"\n        aria-label={`${this.state.rotationAngle}ยบ`}\n        className=\"uppy-ImageCropper-rangeWrapper uppy-u-reset\"\n      >\n        <input\n          className=\"uppy-ImageCropper-range uppy-u-reset\"\n          type=\"range\"\n          onInput={this.granularRotateOnChange}\n          onChange={this.granularRotateOnChange}\n          value={this.state.rotationDelta}\n          min=\"-45\"\n          max=\"44\"\n          aria-label={this.props.i18n('rotate')}\n        />\n      </label>\n    )\n  }\n\n  renderFlip () {\n    return (\n      <button\n        type=\"button\"\n        className=\"uppy-u-reset uppy-c-btn\"\n        aria-label={this.props.i18n('flipHorizontal')}\n        data-microtip-position=\"top\"\n        role=\"tooltip\"\n        onClick={() => this.cropper.scaleX(-this.cropper.getData().scaleX || -1)}\n      >\n        <svg aria-hidden=\"true\" className=\"uppy-c-icon\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\">\n          <path d=\"M0 0h24v24H0z\" fill=\"none\" />\n          <path d=\"M15 21h2v-2h-2v2zm4-12h2V7h-2v2zM3 5v14c0 1.1.9 2 2 2h4v-2H5V5h4V3H5c-1.1 0-2 .9-2 2zm16-2v2h2c0-1.1-.9-2-2-2zm-8 20h2V1h-2v22zm8-6h2v-2h-2v2zM15 5h2V3h-2v2zm4 8h2v-2h-2v2zm0 8c1.1 0 2-.9 2-2h-2v2z\" />\n        </svg>\n      </button>\n    )\n  }\n\n  renderZoomIn () {\n    return (\n      <button\n        type=\"button\"\n        className=\"uppy-u-reset uppy-c-btn\"\n        aria-label={this.props.i18n('zoomIn')}\n        data-microtip-position=\"top\"\n        role=\"tooltip\"\n        onClick={() => this.cropper.zoom(0.1)}\n      >\n        <svg aria-hidden=\"true\" className=\"uppy-c-icon\" height=\"24\" viewBox=\"0 0 24 24\" width=\"24\">\n          <path d=\"M0 0h24v24H0V0z\" fill=\"none\" />\n          <path d=\"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z\" />\n          <path d=\"M12 10h-2v2H9v-2H7V9h2V7h1v2h2v1z\" />\n        </svg>\n      </button>\n    )\n  }\n\n  renderZoomOut () {\n    return (\n      <button\n        type=\"button\"\n        className=\"uppy-u-reset uppy-c-btn\"\n        aria-label={this.props.i18n('zoomOut')}\n        data-microtip-position=\"top\"\n        role=\"tooltip\"\n        onClick={() => this.cropper.zoom(-0.1)}\n      >\n        <svg aria-hidden=\"true\" className=\"uppy-c-icon\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\">\n          <path d=\"M0 0h24v24H0V0z\" fill=\"none\" />\n          <path d=\"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14zM7 9h5v1H7z\" />\n        </svg>\n      </button>\n    )\n  }\n\n  renderCropSquare () {\n    return (\n      <button\n        type=\"button\"\n        className=\"uppy-u-reset uppy-c-btn\"\n        aria-label={this.props.i18n('aspectRatioSquare')}\n        data-microtip-position=\"top\"\n        role=\"tooltip\"\n        onClick={() => this.cropper.setAspectRatio(1)}\n      >\n        <svg aria-hidden=\"true\" className=\"uppy-c-icon\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\">\n          <path d=\"M0 0h24v24H0z\" fill=\"none\" />\n          <path d=\"M19 5v14H5V5h14m0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z\" />\n        </svg>\n      </button>\n    )\n  }\n\n  renderCropWidescreen () {\n    return (\n      <button\n        type=\"button\"\n        className=\"uppy-u-reset uppy-c-btn\"\n        aria-label={this.props.i18n('aspectRatioLandscape')}\n        data-microtip-position=\"top\"\n        role=\"tooltip\"\n        onClick={() => this.cropper.setAspectRatio(16 / 9)}\n      >\n        <svg aria-hidden=\"true\" className=\"uppy-c-icon\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\">\n          <path d=\"M 19,4.9999992 V 17.000001 H 4.9999998 V 6.9999992 H 19 m 0,-2 H 4.9999998 c -1.0999999,0 -1.9999999,0.9000001 -1.9999999,2 V 17.000001 c 0,1.1 0.9,2 1.9999999,2 H 19 c 1.1,0 2,-0.9 2,-2 V 6.9999992 c 0,-1.0999999 -0.9,-2 -2,-2 z\" />\n          <path fill=\"none\" d=\"M0 0h24v24H0z\" />\n        </svg>\n      </button>\n    )\n  }\n\n  renderCropWidescreenVertical () {\n    return (\n      <button\n        type=\"button\"\n        className=\"uppy-u-reset uppy-c-btn\"\n        aria-label={this.props.i18n('aspectRatioPortrait')}\n        data-microtip-position=\"top\"\n        role=\"tooltip\"\n        onClick={() => this.cropper.setAspectRatio(9 / 16)}\n      >\n        <svg aria-hidden=\"true\" className=\"uppy-c-icon\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\">\n          <path d=\"M 19.000001,19 H 6.999999 V 5 h 10.000002 v 14 m 2,0 V 5 c 0,-1.0999999 -0.9,-1.9999999 -2,-1.9999999 H 6.999999 c -1.1,0 -2,0.9 -2,1.9999999 v 14 c 0,1.1 0.9,2 2,2 h 10.000002 c 1.1,0 2,-0.9 2,-2 z\" />\n          <path d=\"M0 0h24v24H0z\" fill=\"none\" />\n        </svg>\n      </button>\n    )\n  }\n\n  render () {\n    const { currentImage, i18n, opts } = this.props\n    const { actions } = opts\n    // eslint-disable-next-line compat/compat\n    const imageURL = URL.createObjectURL(currentImage.data)\n\n    return (\n      <div className=\"uppy-ImageCropper\">\n        <div className=\"uppy-ImageCropper-container\">\n          <img\n            className=\"uppy-ImageCropper-image\"\n            alt={currentImage.name}\n            src={imageURL}\n            ref={ref => { this.imgElement = ref }}\n          />\n        </div>\n\n        <div className=\"uppy-ImageCropper-controls\">\n          {actions.revert && this.renderRevert()}\n          {actions.rotate && this.renderRotate()}\n          {actions.granularRotate && this.renderGranularRotate()}\n          {actions.flip && this.renderFlip()}\n          {actions.zoomIn && this.renderZoomIn()}\n          {actions.zoomOut && this.renderZoomOut()}\n          {actions.cropSquare && this.renderCropSquare()}\n          {actions.cropWidescreen && this.renderCropWidescreen()}\n          {actions.cropWidescreenVertical && this.renderCropWidescreenVertical()}\n        </div>\n      </div>\n    )\n  }\n}\n"]}